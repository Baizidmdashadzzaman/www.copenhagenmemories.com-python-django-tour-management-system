{% extends 'accounts/admin/layout.html' %}
{% load static %}

{% block page_title %}Create Tour Supplier{% endblock %}

{% block admin_content %}
<div class="">
    <h4 class="py-3 mb-4">
        <span class="text-muted fw-light">Partners /</span> Create New Supplier
    </h4>

    <div class="row">
        <div class="col-xl-12">
            <div class="card mb-6">
                <h5 class="card-header">Supplier Information</h5>
                <form class="card-body" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}

                    {% if form.errors %}
                    <div class="alert alert-danger alert-dismissible" role="alert">
                        <h6 class="alert-heading mb-1">Please correct the errors below</h6>
                        <ul class="mb-0">
                            {% for field in form %}
                            {% for error in field.errors %}
                            <li>{{ field.label }}: {{ error }}</li>
                            {% endfor %}
                            {% endfor %}
                            {% for error in form.non_field_errors %}
                            <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                    {% endif %}

                    <h6>1. Basic Details</h6>
                    <div class="row g-6">
                        <div class="col-md-6">
                            <label class="form-label" for="id_company_name">Company Name <span
                                    class="text-danger">*</span></label>
                            <input type="text" id="id_company_name" name="company_name" class="form-control"
                                placeholder="Enter company name" value="{{ form.company_name.value|default:'' }}"
                                required>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label" for="id_contact_name">Contact Person <span
                                    class="text-danger">*</span></label>
                            <input type="text" id="id_contact_name" name="contact_name" class="form-control"
                                placeholder="Enter contact person name" value="{{ form.contact_name.value|default:'' }}"
                                required>
                        </div>
                    </div>

                    <div class="row g-6 mt-2">
                        <div class="col-md-6">
                            <label class="form-label" for="id_email">Email <span class="text-danger">*</span></label>
                            <input type="email" id="id_email" name="email" class="form-control"
                                placeholder="Enter email address" value="{{ form.email.value|default:'' }}" required>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label" for="id_phone">Phone <span class="text-danger">*</span></label>
                            <input type="text" id="id_phone" name="phone" class="form-control"
                                placeholder="Enter phone number" value="{{ form.phone.value|default:'' }}" required>
                        </div>
                    </div>

                    <div class="row g-6 mt-2">
                        <div class="col-md-6">
                            <label class="form-label" for="id_password">Password</label>
                            {{ form.password }}
                        </div>
                    </div>

                    <div class="row g-6 mt-2">
                        <div class="col-md-12">
                            <label class="form-label" for="id_address">Address <span
                                    class="text-danger">*</span></label>
                            <textarea id="id_address" name="address" class="form-control" rows="3"
                                placeholder="Enter address" required>{{ form.address.value|default:'' }}</textarea>
                        </div>
                    </div>

                    <div class="row g-6 mt-2">
                        <div class="col-md-6">
                            <label class="form-label" for="id_city">City</label>
                            <input type="text" id="id_city" name="city" class="form-control"
                                placeholder="Enter city" value="{{ form.city.value|default:'' }}">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="id_country">Country</label>
                            {{ form.country }}
                        </div>
                    </div>

                    <div class="row g-6 mt-2">
                        <div class="col-md-6">
                            <label class="form-label" for="id_website">Website</label>
                            <input type="url" id="id_website" name="website" class="form-control"
                                placeholder="Enter website URL" value="{{ form.website.value|default:'' }}">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="id_logo">Logo</label>
                            <input type="file" id="id_logo" name="logo" class="form-control" accept="image/*">
                        </div>
                    </div>

                    <hr class="my-6 mx-n6">

                    <h6>2. Financial & Legal</h6>
                    <div class="row g-6">
                        <div class="col-md-6">
                            <label class="form-label" for="id_tax_id">Tax ID</label>
                            <input type="text" id="id_tax_id" name="tax_id" class="form-control"
                                placeholder="Enter tax ID" value="{{ form.tax_id.value|default:'' }}">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="id_bank_account">Bank Account</label>
                            <input type="text" id="id_bank_account" name="bank_account" class="form-control"
                                placeholder="Enter bank account details" value="{{ form.bank_account.value|default:'' }}">
                        </div>
                    </div>
                    <div class="row g-6 mt-2">
                        <div class="col-md-6">
                            <label class="form-label" for="id_commission_rate">Commission Rate (%)</label>
                            <input type="number" id="id_commission_rate" name="commission_rate" class="form-control"
                                placeholder="Enter commission rate" value="{{ form.commission_rate.value|default:'' }}" step="0.01" min="0">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="id_payment_details">Payment Details</label>
                            <textarea id="id_payment_details" name="payment_details" class="form-control" rows="1"
                                placeholder="Enter payment details">{{ form.payment_details.value|default:'' }}</textarea>
                        </div>
                    </div>

                    <hr class="my-6 mx-n6">

                    <h6>3. Ratings & Reviews</h6>
                    <div class="row g-6">
                        <div class="col-md-6">
                            <label class="form-label" for="id_rating">Rating (0-5)</label>
                            <input type="number" id="id_rating" name="rating" class="form-control"
                                placeholder="Enter rating" value="{{ form.rating.value|default:'' }}" step="0.01" min="0" max="5">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="id_total_reviews">Total Reviews</label>
                            <input type="number" id="id_total_reviews" name="total_reviews" class="form-control"
                                placeholder="Enter total reviews" value="{{ form.total_reviews.value|default:'' }}" min="0">
                        </div>
                    </div>

                    <hr class="my-6 mx-n6">

                    <h6>4. Status & Verification</h6>
                    <div class="row g-6">
                        <div class="col-md-6">
                            <label class="form-label" for="id_status">Status</label>
                            {{ form.status }}
                        </div>
                        <div class="col-md-6">
                            <div class="form-check form-switch mt-4">
                                {{ form.verified }}
                                <label class="form-check-label" for="id_verified">Verified Supplier</label>
                            </div>
                        </div>
                    </div>

                    <div class="row g-6 mt-2">
                        <div class="col-md-12">
                            <label class="form-label" for="id_other_details">Other Details</label>
                            <textarea id="id_other_details" name="other_details" class="form-control" rows="3"
                                placeholder="Enter other details">{{ form.other_details.value|default:'' }}</textarea>
                        </div>
                    </div>

                    <div class="pt-6">
                        <button type="submit" class="btn btn-primary me-4 waves-effect waves-light">
                            <i class="icon-base ti tabler-check icon-22px"></i> Create
                        </button>
                        <a href="{% url 'tour_supplier_list' %}" class="btn btn-label-secondary waves-effect">
                            <i class="icon-base ti tabler-ban icon-22px"></i> Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}